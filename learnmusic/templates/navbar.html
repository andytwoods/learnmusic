{% load webpush_notifications %}
{% load i18n static %}
<!-- Modern Navbar with enhanced styling -->
<header class="shadow-sm">
  <nav class="navbar navbar-expand-md  py-2">
    <div class="container">
      <!-- Brand with favicon -->
      <a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}">
        <img src="{% static 'images/trumpet_colour.svg' %}" alt="Trumpet" class="me-2" width="32" height="32">
        <span class="fw-bold">Tootology</span>
      </a>

      <!-- Mobile toggle button -->
      <button
        class="navbar-toggler border-0"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarContent"
        aria-controls="navbarContent"
        aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarContent">
        <!-- Left-hand nav items -->
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          {% if request.user.is_authenticated %}
            <li class="nav-item mx-md-2">
              <a
                class="btn btn-light text-primary fw-medium d-flex align-items-center"
                href="{% url 'notes-home' %}">
                <i class="fas fa-graduation-cap me-2"></i>
                <span>Learning Hub</span>
              </a>
            </li>
            {% webpush_button with_class="btn btn-sm btn-outline-secondary"%}
          {% endif %}
        </ul>

        <!-- Right-hand nav items -->
        <ul class="navbar-nav ms-auto mb-2 mb-md-0">
          {% if request.user.is_authenticated %}
            <li class="nav-item mx-md-1">
              <a class="nav-link d-flex align-items-center" href="{% url 'users:detail' request.user.pk %}">
                <i class="fas fa-user me-1"></i>
                <span>{% translate "My Profile" %}</span>
              </a>
            </li>
            <li class="nav-item mx-md-1">
              <a class="nav-link d-flex align-items-center" href="{% url 'account_logout' %}">
                <span>{% translate "Sign Out" %}</span>
              </a>
            </li>
          {% else %}
            {% if ACCOUNT_ALLOW_REGISTRATION %}
              <li class="nav-item mx-md-1">
                <a id="sign-up-link" class="nav-link d-flex align-items-center" href="{% url 'account_signup' %}">
                  <span>{% translate "Sign Up" %}</span>
                </a>
              </li>
              <li class="nav-item mx-md-1">
                <a id="sign-in-link" class="nav-link d-flex align-items-center" href="{% url 'account_login' %}">
                  <span>{% translate "Sign In" %}</span>
                </a>
              </li>
            {% endif %}
            <li class="nav-item ms-md-1">
              <a id="log-in-link" class="btn btn-outline-light d-flex align-items-center"
                 href="{% url 'account_login' %}">
                <span>{% translate "Sign In" %}</span>
              </a>
            </li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>
</header>
